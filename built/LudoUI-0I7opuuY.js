import{u as e,j as t,h as s,b as l}from"./index-KFrRJnAa.js";import{b as r,c as i,D as n,B as o,v as a,am as c,X as x}from"./react-vendor-DYZX9s3x.js";import{i as d,a as h,L as u,P as y,S as g,b as m,c as f,d as p,g as k}from"./Ludo-CH11SiA3.js";import{u as b}from"./useGameState-D4aAB64x.js";import"./socket-DRbsQkF5.js";import"./zustand-ChJSfqt5.js";import"./BaseGame-Bx6ZleY5.js";const j={[y.RED]:{bg:"bg-red-500",light:"bg-red-200",ring:"ring-red-400",fill:"#ef4444",text:"text-red-500"},[y.BLUE]:{bg:"bg-blue-500",light:"bg-blue-200",ring:"ring-blue-400",fill:"#3b82f6",text:"text-blue-500"},[y.GREEN]:{bg:"bg-green-500",light:"bg-green-200",ring:"ring-green-400",fill:"#22c55e",text:"text-green-500"},[y.YELLOW]:{bg:"bg-yellow-400",light:"bg-yellow-200",ring:"ring-yellow-400",fill:"#eab308",text:"text-yellow-500"}},w={[y.RED]:"#ef444444",[y.BLUE]:"#3b82f644",[y.GREEN]:"#22c55e44",[y.YELLOW]:"#eab30844",stroke:"#0002",base:"#fff1",cell:"#4b5563"};function v({game:v,currentUserId:E}){const L=v,{ti:W,ts:R}=e(),[G]=b(L),[C,B]=r.useState(!1),[Y,$]=r.useState(1),[I,P]=r.useState(!1),[D,q]=r.useState(!1),[O,T]=r.useState(null),U=r.useRef(null),S=r.useRef(null);r.useEffect(()=>{const e=L.onUpdate(e=>{if(null!==e.diceValue&&e.diceValue!==U.current&&!C){const t=e.diceValue;B(!0),P(!1),S.current&&clearInterval(S.current);let s=0;S.current=setInterval(()=>{$(Math.floor(6*Math.random())+1),s++,s>10&&(S.current&&(clearInterval(S.current),S.current=null),$(t),B(!1),P(!0),setTimeout(()=>P(!1),1e3))},80),U.current=t}else null===e.diceValue&&(U.current=null)});return()=>{S.current&&clearInterval(S.current),e()}},[L]);const A=L.getMyPlayerIndex(),M=G.players[G.currentPlayerIndex],V=M?.id===E,z=L.isHost,H=V&&(!G.hasRolled||G.canRollAgain)&&!C&&!I,_=null!==G.diceValue&&G.players[G.currentPlayerIndex]?.tokens.some(e=>d(e.position)?6===G.diceValue:!h(e.position)),J=()=>{H&&(U.current=null,L.requestRollDice())},K=e=>[{x:1.5,y:6.5},{x:2.5,y:6.5},{x:3.5,y:6.5},{x:4.5,y:6.5},{x:5.5,y:6.5},{x:6.5,y:5.5},{x:6.5,y:4.5},{x:6.5,y:3.5},{x:6.5,y:2.5},{x:6.5,y:1.5},{x:6.5,y:.5},{x:7.5,y:.5},{x:8.5,y:.5},{x:8.5,y:1.5},{x:8.5,y:2.5},{x:8.5,y:3.5},{x:8.5,y:4.5},{x:8.5,y:5.5},{x:9.5,y:6.5},{x:10.5,y:6.5},{x:11.5,y:6.5},{x:12.5,y:6.5},{x:13.5,y:6.5},{x:14.5,y:6.5},{x:14.5,y:7.5},{x:14.5,y:8.5},{x:13.5,y:8.5},{x:12.5,y:8.5},{x:11.5,y:8.5},{x:10.5,y:8.5},{x:9.5,y:8.5},{x:8.5,y:9.5},{x:8.5,y:10.5},{x:8.5,y:11.5},{x:8.5,y:12.5},{x:8.5,y:13.5},{x:8.5,y:14.5},{x:7.5,y:14.5},{x:6.5,y:14.5},{x:6.5,y:13.5},{x:6.5,y:12.5},{x:6.5,y:11.5},{x:6.5,y:10.5},{x:6.5,y:9.5},{x:5.5,y:8.5},{x:4.5,y:8.5},{x:3.5,y:8.5},{x:2.5,y:8.5},{x:1.5,y:8.5},{x:.5,y:8.5},{x:.5,y:7.5},{x:.5,y:6.5}][e%52]||{x:7.5,y:7.5},Q=(e,s,l)=>{const r=((e,t,s)=>{if(d(e)){const e={[y.RED]:{x:3,y:3},[y.GREEN]:{x:12,y:3},[y.YELLOW]:{x:12,y:12},[y.BLUE]:{x:3,y:12}}[t],l=[{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}][s];return{x:e.x+l.dx,y:e.y+l.dy}}if(f(e))return K(e);if(p(e))return{[y.RED]:[{x:1.5,y:7.5},{x:2.5,y:7.5},{x:3.5,y:7.5},{x:4.5,y:7.5},{x:5.5,y:7.5}],[y.GREEN]:[{x:7.5,y:1.5},{x:7.5,y:2.5},{x:7.5,y:3.5},{x:7.5,y:4.5},{x:7.5,y:5.5}],[y.YELLOW]:[{x:13.5,y:7.5},{x:12.5,y:7.5},{x:11.5,y:7.5},{x:10.5,y:7.5},{x:9.5,y:7.5}],[y.BLUE]:[{x:7.5,y:13.5},{x:7.5,y:12.5},{x:7.5,y:11.5},{x:7.5,y:10.5},{x:7.5,y:9.5}]}[t][k(e)]||{x:7.5,y:7.5};return h(e)?{x:7.5,y:7.5}:null})(e.position,s,e.id);if(!r)return null;const i=G.currentPlayerIndex===l,n=!C&&V&&l===A&&G.hasRolled&&L.isTokenMovable(e.id),o=j[s];return t.jsx("div",{className:`\n          absolute w-6 h-6 rounded-full border-2 border-white shadow-lg z-10\n          ${o.bg}\n          ${n?"cursor-pointer":""}\n          ${i&&!n?"opacity-90":""}\n        `,style:{left:r.x/15*100+"%",top:r.y/15*100+"%",transform:n?"translate(-50%, -50%) scale(1.25)":"translate(-50%, -50%)",transition:"left 0.5s ease-in-out, top 0.5s ease-in-out, transform 0.2s ease-in-out",boxShadow:n?`0 0 0 4px ${o.fill}, 0 0 20px ${o.fill}, 0 0 30px ${o.fill}80`:void 0,zIndex:n?20:10,animation:n?"pulse 1s ease-in-out infinite":void 0},onClick:t=>n&&((e,t,s,l,r)=>{if(!V)return;if(!G.hasRolled)return;if(C)return;if(!L.isTokenMovable(e))return;const i=G.players[A];if(!i)return;const n=i.tokens.filter(e=>!!L.isTokenMovable(e.id)&&e.position===s.position&&!d(e.position));if(n.length>1){const e=t.target.getBoundingClientRect();T({tokens:n.map(e=>({token:e,color:l,playerIndex:r})),x:e.left+e.width/2,y:e.top})}else T(null),L.requestMoveToken(e)})(e.id,t,e,s,l),children:t.jsx("span",{className:"flex items-center justify-center w-full h-full text-white text-xs font-bold drop-shadow-lg",children:e.id+1})},`${s}-${e.id}`)};return t.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 w-full max-w-2xl mx-auto pb-16!",children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"\n@keyframes bounce-dice {\n  0%, 100% { transform: translateY(0) rotate(0deg); }\n  25% { transform: translateY(-20px) rotate(90deg); }\n  50% { transform: translateY(-10px) rotate(180deg); }\n  75% { transform: translateY(-15px) rotate(270deg); }\n}\n\n@keyframes pulse {\n  0%, 100% { opacity: 1; box-shadow: 0 0 0 4px currentColor, 0 0 20px currentColor; }\n  50% { opacity: 0.8; box-shadow: 0 0 0 6px currentColor, 0 0 30px currentColor; }\n}\n\n@keyframes pulse-corner {\n  0%, 100% { opacity: 0.3; }\n  50% { opacity: 0.6; }\n}\n"}}),O&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>T(null),children:t.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 shadow-xl border border-slate-600",onClick:e=>e.stopPropagation(),children:[t.jsx("p",{className:"text-white text-sm mb-3 text-center",children:W({en:"Select which token to move:",vi:"Chá»n quÃ¢n cá» Ä‘á»ƒ di chuyá»ƒn:"})}),t.jsx("div",{className:"flex gap-2 justify-center",children:O.tokens.map(({token:e,color:s})=>{const l=j[s];return t.jsx("button",{onClick:()=>{return t=e.id,T(null),void L.requestMoveToken(t);var t},className:`\n                      w-10 h-10 rounded-full border-2 border-white shadow-lg\n                      ${l.bg}\n                      hover:scale-110 transition-transform\n                      flex items-center justify-center\n                    `,children:t.jsx("span",{className:"text-white font-bold text-sm",children:e.id+1})},e.id)})}),t.jsx("p",{className:"text-gray-400 text-xs mt-2 text-center",children:W({en:"Click outside to cancel",vi:"Click ngoÃ i Ä‘á»ƒ há»§y"})})]})}),G.gamePhase===u.PLAYING&&t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"text-lg text-gray-400",children:V?t.jsx("span",{className:"text-green-400 font-semibold",children:W({en:"Your turn!",vi:"Äáº¿n lÆ°á»£t báº¡n!"})}):t.jsxs("span",{children:[W({en:"Waiting for",vi:"Äá»£i"})," ",t.jsx("span",{className:j[M?.color??y.RED].text,children:M?.username}),"..."]})}),t.jsxs("div",{className:"flex items-center gap-4",children:[(()=>{const e={"top-left":"top-1.5 left-1.5","top-right":"top-1.5 right-1.5","middle-left":"top-1/2 left-1.5 -translate-y-1/2","middle-right":"top-1/2 right-1.5 -translate-y-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","bottom-left":"bottom-1.5 left-1.5","bottom-right":"bottom-1.5 right-1.5"};return t.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.jsx("div",{className:`\n            relative w-16 h-16 bg-white rounded-xl shadow-lg border-2 border-gray-300\n            ${H?"cursor-pointer hover:shadow-xl hover:scale-105 transition-all":""}\n          `,style:{animation:C?"bounce-dice 0.3s ease-in-out infinite":void 0},onClick:J,children:({1:["center"],2:["top-right","bottom-left"],3:["top-right","center","bottom-left"],4:["top-left","top-right","bottom-left","bottom-right"],5:["top-left","top-right","center","bottom-left","bottom-right"],6:["top-left","top-right","middle-left","middle-right","bottom-left","bottom-right"]}[Y]||[]).map((s,l)=>t.jsx("div",{className:`absolute w-3 h-3 bg-gray-800 rounded-full ${e[s]}`},l))}),null!==G.diceValue&&!C&&t.jsxs("div",{className:"text-2xl font-bold text-white bg-slate-700 px-3 py-1 rounded-lg",children:["ðŸŽ² ",G.diceValue]})]})})(),H&&t.jsxs("button",{onClick:J,disabled:C,className:"flex items-center gap-2 px-5 py-3 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors disabled:opacity-50 font-semibold",children:[t.jsx(n,{className:"w-5 h-5"}),C?W({en:"Rolling...",vi:"Äang tung xÃºc xáº¯c..."}):G.canRollAgain?W({en:"Roll Again! ðŸŽ‰",vi:"Tung láº¡i! ðŸŽ‰"}):W({en:"Roll Dice",vi:"Tung xÃºc xáº¯c"})]})]}),G.hasRolled&&!G.canRollAgain&&V&&!C&&_&&t.jsxs("span",{className:"text-yellow-400 animate-pulse",children:["ðŸ‘†"," ",W({en:"Click a highlighted token to move",vi:"Click quÃ¢n cá» Ä‘Æ°á»£c tÃ´ sÃ¡ng Ä‘á»ƒ di chuyá»ƒn"})]})]}),G.gamePhase===u.ENDED&&t.jsxs("div",{className:"text-center p-4 bg-slate-800 rounded-lg",children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Game Over!"}),t.jsx("p",{className:"text-gray-300",children:G.winner===E?W({en:"ðŸŽ‰ You won!",vi:"ðŸŽ‰ Báº¡n Ä‘Ã£ tháº¯ng!"}):`${G.players.find(e=>e.id===G.winner)?.username} ${W({en:"wins!",vi:"Ä‘Ã£ tháº¯ng!"})}`})]}),G.gamePhase===u.WAITING&&t.jsx("div",{className:"grid grid-cols-2 gap-2 w-full max-w-md",children:[0,1,3,2].map(e=>{const l=G.players[e];if(!l)return null;const r=j[l.color];return t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-4 h-4 rounded-full ${r.bg}`}),t.jsxs("span",{className:"text-sm text-white",children:[l.id?l.username:W({en:"(empty)",vi:"(trá»‘ng)"}),s(l.flags,m.BOT)&&" ðŸ¤–",l.id===E&&W({en:" (You)",vi:" (Báº¡n)"})]})]}),z&&(s(l.flags,m.BOT)?t.jsx("button",{onClick:()=>L.requestRemoveBot(e),className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded",children:"âœ•"}):!l.id&&t.jsx("button",{onClick:()=>L.requestAddBot(e),className:"text-xs px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white rounded",children:"+Bot"}))]},e)})}),t.jsxs("div",{className:"flex gap-3",children:[G.gamePhase===u.WAITING&&z&&L.canStartGame()&&t.jsxs("button",{onClick:()=>L.requestStartGame(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[t.jsx(o,{className:"w-4 h-4"})," ",W({en:"Start Game",vi:"Báº¯t Ä‘áº§u"})]}),G.gamePhase===u.ENDED&&t.jsxs("button",{onClick:()=>L.requestNewGame(),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors",children:[t.jsx(a,{className:"w-4 h-4"})," ",W({en:"Play Again",vi:"ChÆ¡i láº¡i"})]})]}),t.jsxs("div",{className:"relative w-full max-w-[450px] aspect-square bg-slate-900 rounded-xl overflow-hidden shadow-2xl border-4 border-black",children:[t.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 15 15",children:[t.jsx("rect",{x:"0",y:"0",width:"6",height:"6",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.05"}),t.jsx("rect",{x:"1",y:"1",width:"4",height:"4",fill:w.base}),t.jsx("circle",{cx:"2",cy:"2",r:"0.6",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"4",cy:"2",r:"0.6",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"2",cy:"4",r:"0.6",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"4",cy:"4",r:"0.6",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("rect",{x:"9",y:"0",width:"6",height:"6",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.05"}),t.jsx("rect",{x:"10",y:"1",width:"4",height:"4",fill:w.base}),t.jsx("circle",{cx:"11",cy:"2",r:"0.6",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"13",cy:"2",r:"0.6",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"11",cy:"4",r:"0.6",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"13",cy:"4",r:"0.6",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("rect",{x:"9",y:"9",width:"6",height:"6",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.05"}),t.jsx("rect",{x:"10",y:"10",width:"4",height:"4",fill:w.base}),t.jsx("circle",{cx:"11",cy:"11",r:"0.6",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"13",cy:"11",r:"0.6",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"11",cy:"13",r:"0.6",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"13",cy:"13",r:"0.6",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("rect",{x:"0",y:"9",width:"6",height:"6",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.05"}),t.jsx("rect",{x:"1",y:"10",width:"4",height:"4",fill:w.base}),t.jsx("circle",{cx:"2",cy:"11",r:"0.6",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"4",cy:"11",r:"0.6",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"2",cy:"13",r:"0.6",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("circle",{cx:"4",cy:"13",r:"0.6",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.03"}),[0,1,2,3,4,5].map(e=>t.jsxs("g",{children:[t.jsx("rect",{x:e,y:6,width:"1",height:"1",fill:1===e?w[y.RED]:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:e,y:7,width:"1",height:"1",fill:0===e?w.cell:w[y.RED],stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:e,y:8,width:"1",height:"1",fill:w.cell,stroke:w.stroke,strokeWidth:"0.02"})]},`left-${e}`)),[0,1,2,3,4,5].map(e=>t.jsxs("g",{children:[t.jsx("rect",{x:9+e,y:6,width:"1",height:"1",fill:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:9+e,y:7,width:"1",height:"1",fill:e<5?w[y.YELLOW]:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:9+e,y:8,width:"1",height:"1",fill:4===e?w[y.YELLOW]:w.cell,stroke:w.stroke,strokeWidth:"0.02"})]},`right-${e}`)),[0,1,2,3,4,5].map(e=>t.jsxs("g",{children:[t.jsx("rect",{x:6,y:e,width:"1",height:"1",fill:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:7,y:e,width:"1",height:"1",fill:e>0?w[y.GREEN]:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:8,y:e,width:"1",height:"1",fill:1===e?w[y.GREEN]:w.cell,stroke:w.stroke,strokeWidth:"0.02"})]},`top-${e}`)),[0,1,2,3,4,5].map(e=>t.jsxs("g",{children:[t.jsx("rect",{x:6,y:9+e,width:"1",height:"1",fill:4===e?w[y.BLUE]:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:7,y:9+e,width:"1",height:"1",fill:e<5?w[y.BLUE]:w.cell,stroke:w.stroke,strokeWidth:"0.02"}),t.jsx("rect",{x:8,y:9+e,width:"1",height:"1",fill:w.cell,stroke:w.stroke,strokeWidth:"0.02"})]},`bottom-${e}`)),t.jsx("polygon",{points:"6,6 9,6 7.5,7.5",fill:w[y.GREEN],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("polygon",{points:"9,6 9,9 7.5,7.5",fill:w[y.YELLOW],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("polygon",{points:"9,9 6,9 7.5,7.5",fill:w[y.BLUE],stroke:w.stroke,strokeWidth:"0.03"}),t.jsx("polygon",{points:"6,9 6,6 7.5,7.5",fill:w[y.RED],stroke:w.stroke,strokeWidth:"0.03"}),g.map((e,s)=>{const l=K(e);return t.jsx("polygon",{points:N(l.x,l.y,.35),fill:"#fbbf2455",strokeWidth:"0.03",opacity:"0.9"},s)}),G.gamePhase===u.PLAYING&&(()=>{const e=G.players[G.currentPlayerIndex],s={[y.RED]:{x:0,y:0},[y.GREEN]:{x:9,y:0},[y.YELLOW]:{x:9,y:9},[y.BLUE]:{x:0,y:9}}[e.color]||{x:0,y:0};return t.jsx("rect",{x:s.x,y:s.y,width:"6",height:"6",fill:j[e.color].fill,strokeWidth:"0.15",style:{animation:"pulse-corner 1s ease-in-out infinite"}})})()]}),G.players.map((e,l)=>{const r=(e=>{switch(e){case y.RED:return{x:"20%",y:"3%"};case y.GREEN:return{x:"80%",y:"3%"};case y.YELLOW:return{x:"80%",y:"97%"};case y.BLUE:return{x:"20%",y:"97%"};default:return{x:"0%",y:"0%"}}})(e.color),i=G.currentPlayerIndex===l&&G.gamePhase===u.PLAYING,n=j[e.color];return t.jsxs("div",{className:`\n                absolute px-2 py-0.5 rounded text-xs font-bold\n                ${i?`${n.bg} text-white`:"bg-black/50 "+n.text}\n                ${i?"animate-pulse":""}\n              `,style:{left:r.x,top:r.y,transform:`translate(-50%, ${"97%"===r.y?"-100%":"0"})`},children:[e.id?e.username:W({en:"(empty)",vi:"(trá»‘ng)"}),s(e.flags,m.BOT)&&" ðŸ¤–"]},`name-${e.color}`)}),G.players.map((e,t)=>e.id&&e.tokens.map(s=>Q(s,e.color,t)))]}),G.gamePhase===u.PLAYING&&z&&t.jsxs("button",{onClick:async()=>{await l.getState().confirm(R({en:"Are you sure you want to reset the game? All progress will be lost.",vi:"Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n reset game? Táº¥t cáº£ tiáº¿n trÃ¬nh sáº½ bá»‹ máº¥t."}),R({en:"New Game",vi:"VÃ¡n má»›i"}))&&L.requestNewGame()},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg transition-colors",children:[t.jsx(a,{className:"w-4 h-4"})," ",W({en:"New Game",vi:"VÃ¡n má»›i"})]}),t.jsx("button",{onClick:()=>q(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:R({en:"Rules",vi:"Luáº­t chÆ¡i"}),children:t.jsx(c,{size:24})}),D&&i.createPortal(t.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 p-4",children:t.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full max-h-[85vh] overflow-y-auto shadow-2xl relative",children:[t.jsxs("div",{className:"flex justify-between sticky top-0 p-4 pr-2 bg-slate-900",children:[t.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx(c,{className:"w-6 h-6 text-yellow-500"}),W({en:"Game Rules: Ludo",vi:"Luáº­t ChÆ¡i: Cá» CÃ¡ Ngá»±a"})]}),t.jsx("button",{onClick:()=>q(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:t.jsx(x,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 pt-0 space-y-4 text-slate-300 leading-relaxed",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{children:W({en:"Ludo is a strategy board game for two to four players, in which the players race their four tokens from start to finish according to the rolls of a single die.",vi:"Ludo (Cá» cÃ¡ ngá»±a) lÃ  trÃ² chÆ¡i chiáº¿n thuáº­t cho 2-4 ngÆ°á»i, ngÆ°á»i chÆ¡i Ä‘ua 4 quÃ¢n cá» tá»« váº¡ch xuáº¥t phÃ¡t vá» Ä‘Ã­ch dá»±a trÃªn káº¿t quáº£ tung xÃºc xáº¯c."})}),t.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:W({en:"Objective",vi:"Má»¥c tiÃªu"})}),t.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.jsx("li",{children:W({en:"Be the first player to move all 4 of your tokens into your home triangle.",vi:"LÃ  ngÆ°á»i Ä‘áº§u tiÃªn Ä‘Æ°a táº¥t cáº£ 4 quÃ¢n cá» vá» Ä‘Ã­ch (hÃ¬nh tam giÃ¡c mÃ u cá»§a mÃ¬nh)."})})}),t.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:W({en:"Gameplay",vi:"Luáº­t chÆ¡i"})}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsx("li",{children:W({en:"Roll a 6 to move a token out of the starting area.",vi:"Tung Ä‘Æ°á»£c 6 Ä‘á»ƒ Ä‘Æ°a 1 quÃ¢n cá» ra khá»i chuá»“ng."})}),t.jsx("li",{children:W({en:"Rolling a 6 awards an extra roll.",vi:"Tung Ä‘Æ°á»£c 6 sáº½ Ä‘Æ°á»£c Ä‘i thÃªm má»™t lÆ°á»£t ná»¯a."})}),t.jsx("li",{children:W({en:"Capture opponent's token by landing on the same square. The captured token returns to start.",vi:"Ä‚n quÃ¢n Ä‘á»‘i phÆ°Æ¡ng báº±ng cÃ¡ch Ä‘i vÃ o cÃ¹ng Ã´ vá»›i há». QuÃ¢n bá»‹ Äƒn sáº½ quay vá» chuá»“ng."})}),t.jsx("li",{children:W({en:"Safe squares (marked with symbols) protect tokens from being captured.",vi:"CÃ¡c Ã´ an toÃ n (cÃ³ kÃ½ hiá»‡u) sáº½ báº£o vá»‡ quÃ¢n cá» khÃ´ng bá»‹ Äƒn."})})]}),t.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:W({en:"Winning",vi:"Chiáº¿n tháº¯ng"})}),t.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.jsx("li",{children:W({en:"The first player to get all 4 tokens to the finish wins.",vi:"NgÆ°á»i Ä‘áº§u tiÃªn Ä‘Æ°a Ä‘á»§ 4 quÃ¢n vá» Ä‘Ã­ch sáº½ tháº¯ng."})})})]})})]})}),document.body)]})}const N=(e,t,s)=>{const l=[];for(let r=0;r<10;r++){const i=r%2==0?s:.4*s,n=Math.PI/2+r*Math.PI/5,o=e+i*Math.cos(n),a=t-i*Math.sin(n);l.push(`${o},${a}`)}return l.join(" ")};export{v as default};
