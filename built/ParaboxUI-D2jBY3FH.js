import{j as e,b as t,u as s,A as l,m as r}from"./index-7IhovJwh.js";import{b as i,c as n,K as a,b0 as o,a$ as c,R as d,a8 as h,aD as u,a9 as x,bA as b,aM as m,X as f}from"./react-vendor-h4rhVvwn.js";import"./BaseGame-e-s6XEt7.js";import{T as g,b as p,d as v,a as w,M as j}from"./constants-CzssNmBh.js";import{u as y}from"./useGameState-CXSwuk32.js";import"./socket-DRbsQkF5.js";import"./zustand-Bv_X5X6D.js";const N=(e,t,s)=>!(t<0||t>=e.height||s<0||s>=e.width)&&e.grid[t][s]===g,k=({state:t,displayedLevelId:s,currentUserId:l,tileSize:r,width:n,height:a})=>{const o=i.useRef(null),c=i.useRef(null),d=i.useRef(performance.now()),h=i.useRef(0),u=i.useRef(0),x=i.useRef({}),b=i.useRef({}),m=i.useRef({}),f=i.useRef({}),v=i.useRef(performance.now());i.useEffect(()=>{x.current={...b.current},b.current=Object.fromEntries(Object.values(t.players).map(e=>[e.id,{pos:{...e.pos},levelId:e.currentLevelId}])),m.current={...f.current};const e={};Object.entries(t.levels).forEach(([t,s])=>{s.boxContents&&Object.entries(s.boxContents).forEach(([s,l])=>{const[r,i]=s.split(",").map(Number);e[l]={pos:{x:r,y:i},levelId:t}})}),f.current=e,v.current=performance.now()},[t]);const w=(e,s,r,i,n,a,o)=>{const c=s.split("#")[0],d=t.levels[c];if(!d||a>3)return;const h=n/d.width,u=n/d.height;e.fillStyle=d.color,e.fillRect(r,i,n,n),d.grid.forEach((t,s)=>{t.forEach((t,l)=>{const n=r+l*h,a=i+s*u;if(t===g){e.fillStyle="#1e293b",e.fillRect(n,a,h,u);const t=N(d,s-1,l),r=N(d,s+1,l),i=N(d,s,l-1),o=N(d,s,l+1);e.strokeStyle="rgba(255,255,255,0.1)",e.lineWidth=1,t||(e.beginPath(),e.moveTo(n,a),e.lineTo(n+h,a),e.stroke()),r||(e.beginPath(),e.moveTo(n,a+u),e.lineTo(n+h,a+u),e.stroke()),i||(e.beginPath(),e.moveTo(n,a),e.lineTo(n,a+u),e.stroke()),o||(e.beginPath(),e.moveTo(n+h,a),e.lineTo(n+h,a+u),e.stroke())}else if(t===p){const t=.2*Math.sin(o/200)+.8;e.fillStyle=`rgba(96, 165, 250, ${.2*t})`,e.beginPath(),e.arc(n+h/2,a+u/2,h/4*t,0,2*Math.PI),e.fill()}})});const j=performance.now(),y=Math.min(1,(j-v.current)/150);Object.entries(f.current).forEach(([s,l])=>{if(l.levelId===c){const n=m.current[s];let c=l.pos.x,d=l.pos.y;n&&n.levelId===l.levelId&&(c=n.pos.x+(l.pos.x-n.pos.x)*y,d=n.pos.y+(l.pos.y-n.pos.y)*y);const x=r+c*h,b=i+d*u,f=s.split("#")[0];t.levels[f]?w(e,s,x,b,h,a+1,o):(e.fillStyle="#475569",e.fillRect(x+.15*h,b+.15*u,.7*h,.7*u),e.strokeRect(x+.15*h,b+.15*u,.7*h,.7*u))}}),Object.values(t.players).forEach(t=>{if(t.currentLevelId===c){const s=x.current[t.id],n=b.current[t.id];let a=t.pos.x,c=t.pos.y;s&&n&&s.levelId===n.levelId&&(a=s.pos.x+(n.pos.x-s.pos.x)*y,c=s.pos.y+(n.pos.y-s.pos.y)*y);const d=r+a*h,m=i+c*u;e.save(),e.fillStyle=t.id===l?"#3b82f6":"#22c55e",e.shadowBlur=15,e.shadowColor=e.fillStyle,e.beginPath();const f=8,g=.8*h,p=.8*u,v=d+.1*h,w=m+.1*u;e.moveTo(v+f,w),e.arcTo(v+g,w,v+g,w+p,f),e.arcTo(v+g,w+p,v,w+p,f),e.arcTo(v,w+p,v,w,f),e.arcTo(v,w,v+f,w,f),e.fill(),e.restore();const j=Math.sin(o/1e3)>.95?.1:1;e.fillStyle="white",e.fillRect(d+.3*h,m+.35*u,.1*h,.15*u*j),e.fillRect(d+.6*h,m+.35*u,.1*h,.15*u*j)}})},j=e=>{const l=o.current;if(!l)return;const i=l.getContext("2d");if(!i)return;u.current++,e>d.current+1e3&&(h.current=Math.round(1e3*u.current/(e-d.current)),d.current=e,u.current=0),i.clearRect(0,0,l.width,l.height);const n=s.split("#")[0],a=t.levels[n];if(!a)return;const x=a.width*r,b=a.height*r,m=(l.width-x)/2,f=(l.height-b)/2;w(i,s,m,f,x,0,e),i.fillStyle="rgba(0, 0, 0, 0.7)",i.beginPath(),i.roundRect(10,10,80,30,8),i.fill(),i.fillStyle=h.current>55?"#4ade80":h.current>30?"#fbbf24":"#f87171",i.font="bold 14px 'JetBrains Mono', monospace",i.textAlign="center",i.fillText(`${h.current} FPS`,50,30),c.current=requestAnimationFrame(j)};return i.useEffect(()=>(c.current=requestAnimationFrame(j),()=>{c.current&&cancelAnimationFrame(c.current)}),[t,s,r]),e.jsx("canvas",{ref:o,width:n,height:a,className:"max-w-full max-h-full rounded-lg shadow-2xl",style:{imageRendering:"auto"}})},I=d.memo(({level:t})=>{const s=(e,s)=>((e,s)=>0===e||0===s||e===t.width-1||s===t.height-1)(e,s)&&t.grid[s][e]!==g,l=(e,s)=>0===e?"linear-gradient(to right, rgba(255,255,255,0.15), transparent)":e===t.width-1?"linear-gradient(to left, rgba(255,255,255,0.15), transparent)":0===s?"linear-gradient(to bottom, rgba(255,255,255,0.15), transparent)":s===t.height-1?"linear-gradient(to top, rgba(255,255,255,0.15), transparent)":"none";return e.jsx(e.Fragment,{children:t.grid.map((r,i)=>r.map((r,n)=>{const a=i>0&&t.grid[i-1][n]===g,o=i<t.height-1&&t.grid[i+1][n]===g,c=n>0&&t.grid[i][n-1]===g,d=n<t.width-1&&t.grid[i][n+1]===g;return e.jsxs("div",{className:"absolute flex items-center justify-center",style:{width:"var(--tile-size)",height:"var(--tile-size)",left:"calc(var(--tile-size) * "+n+")",top:"calc(var(--tile-size) * "+i+")",zIndex:1},children:[r===g&&e.jsx("div",{className:"w-full h-full bg-background-primary shadow-inner",style:{borderTop:a?"none":"1px solid rgb(15, 23, 42)",borderBottom:o?"none":"1px solid rgb(15, 23, 42)",borderLeft:c?"none":"1px solid rgb(15, 23, 42)",borderRight:d?"none":"1px solid rgb(15, 23, 42)"}}),s(n,i)&&e.jsx("div",{className:"absolute inset-0 z-0",style:{background:l(n,i)}}),r===p&&e.jsxs("div",{className:"relative w-8 h-8 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-sm rotate-45 animate-pulse opacity-40 blur-[2px]"}),e.jsx("div",{className:"w-4 h-4 rounded-sm bg-blue-300 rotate-45 border border-white/50"})]})]},`static-${n}-${i}`)}))})}),z=d.memo(({pos:t,color:s,isMe:l,shakeDirection:i})=>{const n="left"===i?-15:"right"===i?15:0,a="up"===i?-15:"down"===i?15:0;return e.jsx(r.div,{className:"absolute flex items-center justify-center z-50 pointer-events-none",initial:!1,animate:{left:`calc(var(--tile-size) * ${t.x})`,top:`calc(var(--tile-size) * ${t.y})`,x:i?[0,n,0,n/2,0]:0,y:i?[0,a,0,a/2,0]:0},transition:{duration:j/1e3,ease:[.16,1,.3,1],x:i?{duration:.2,times:[0,.2,.4,.6,1]}:{duration:j/1e3},y:i?{duration:.2,times:[0,.2,.4,.6,1]}:{duration:j/1e3}},style:{width:"var(--tile-size)",height:"var(--tile-size)"},children:e.jsxs("div",{className:"w-[85%] h-[85%] rounded-lg border-2 shadow-[0_0_30px_rgba(59,130,246,0.6)] flex flex-col items-center justify-center relative group",style:{backgroundColor:s,borderColor:l?"#93c5fd":"#86efac",boxShadow:`0 0 30px ${s}66`},children:[e.jsxs("div",{className:"flex gap-2 mb-1",children:[e.jsx("div",{className:"w-2.5 h-3.5 bg-white rounded-full shadow-sm animate-bounce",style:{animationDelay:"0s"}}),e.jsx("div",{className:"w-2.5 h-3.5 bg-white rounded-full shadow-sm animate-bounce",style:{animationDelay:"0.1s"}})]}),e.jsx("div",{className:"w-full h-2 bg-black/20 absolute bottom-0 rounded-b-lg"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-transparent via-white/5 to-white/10"})]})})}),S=d.memo(({levelId:t,state:s,currentUserId:l,depth:r=0,blockedInfo:n=null})=>{const a=s.levels[t];if(!a)return null;if(r>1)return e.jsx("div",{className:"w-full h-full",style:{backgroundColor:a.color}});const o=0===r?8:2,c=i.useMemo(()=>{const e=[];return a.grid.forEach((t,s)=>t.forEach((t,l)=>{if(t===w){const t=a.boxContents?.[`${l},${s}`];e.push({x:l,y:s,id:t||`solid-${l}-${s}`,innerLevelId:t})}})),e},[a.grid,a.boxContents]);return e.jsx("div",{className:"relative flex items-center justify-center pointer-events-none select-none",children:e.jsxs("div",{className:"relative overflow-hidden",style:{width:`calc(var(--tile-size) * ${a.width})`,height:`calc(var(--tile-size) * ${a.height})`,backgroundColor:a.color,boxSizing:"content-box",border:`${o}px solid ${0===r?"#1e293b":"rgba(255,255,255,0.3)"}`,boxShadow:0===r?"0 25px 50px -12px rgba(0, 0, 0, 0.8)":"none"},children:[e.jsx(I,{level:a}),c.map(t=>{const i=t.innerLevelId?t.innerLevelId.split("#")[0]:null,n=i?s.levels[i]:null;return e.jsx("div",{className:"absolute flex items-center justify-center p-[2px] transition-all",style:{width:"var(--tile-size)",height:"var(--tile-size)",left:`calc(var(--tile-size) * ${t.x})`,top:`calc(var(--tile-size) * ${t.y})`,zIndex:10},children:e.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out transform active:scale-95",children:n?e.jsx("div",{className:"w-full h-full border-4 border-slate-400/50 shadow-lg overflow-hidden flex items-center justify-center bg-black/20",style:{borderRadius:"4px"},children:e.jsx("div",{style:{width:`calc(var(--tile-size) * ${n.width})`,height:`calc(var(--tile-size) * ${n.height})`,transform:`scale(${.9/Math.max(n.width,n.height)})`,transformOrigin:"center center"},children:e.jsx(S,{levelId:i,state:s,currentUserId:l,depth:r+1})})}):e.jsxs("div",{className:"w-[85%] h-[85%] bg-slate-600 rounded-md border-2 border-slate-500 shadow-lg flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"w-[70%] h-[70%] border-2 border-slate-700/50 rounded-sm bg-slate-700/30"}),e.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 to-transparent pointer-events-none"})]})})},t.id)}),Object.values(s.players).map(s=>s.currentLevelId!==t?null:e.jsx(z,{pos:s.pos,color:s.id===l?"#3b82f6":"#22c55e",isMe:s.id===l,shakeDirection:s.id===l?n?.direction:null},s.id))]})})}),R=({game:d})=>{const g=d,{confirm:p}=t(),[w]=y(g),j=g.userId,N=j?w.players[j]:null,[I,z]=i.useState({width:window.innerWidth,height:window.innerHeight});i.useEffect(()=>{const e=()=>{z({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const[R,C]=i.useState(null),[$,T]=i.useState(null),[E,M]=i.useState("dom"),[P,L]=i.useState(!1),{ti:A,ts:O}=s(),D=N?.currentLevelId||"root",B=i.useRef(0),U=N?.levelStack.length||0;i.useEffect(()=>{$&&D===$.id&&U===$.depth&&T(null)},[D,U,$]);const F=$?.id||D,W=null!==$?$.depth:U,_=e=>{if(!N)return;const t=N.levelStack;if("out"===e)if(F===D&&W===U)t.length>0&&T({id:t[t.length-1].levelId,depth:t.length-1});else{const e=t.findIndex((e,t)=>e.levelId===F&&t===W);e>0&&T({id:t[e-1].levelId,depth:e-1})}else{const e=t.findIndex((e,t)=>e.levelId===F&&t===W);-1!==e&&e<t.length-1?T({id:t[e+1].levelId,depth:e+1}):(e===t.length-1||F===t[t.length-1]?.levelId&&W===t.length-1)&&T(null)}},q=e=>{j&&(g.checkBlockedMove(j,e)&&(C({direction:e,time:Date.now()}),setTimeout(()=>C(null),200)),g.makeAction({type:"MOVE",direction:e,playerId:j}))};i.useEffect(()=>{const e=e=>{let t=null;"ArrowUp"!==e.key&&"w"!==e.key||(t="up"),"ArrowDown"!==e.key&&"s"!==e.key||(t="down"),"ArrowLeft"!==e.key&&"a"!==e.key||(t="left"),"ArrowRight"!==e.key&&"d"!==e.key||(t="right"),t&&(q(t),e.preventDefault())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[j,g,q]);const G=i.useMemo(()=>W>B.current?"enter":W<B.current?"exit":"none",[W]);i.useEffect(()=>{B.current=W},[W]);const H=w.levels[F],Z=i.useMemo(()=>{if(!H)return v;const e=H.width,t=H.height,s=.9*I.width/e,l=.6*I.height/t;return Math.min(s,l,v)},[H,I]);return w.levels.root?e.jsxs("div",{className:"w-full bg-background-primary flex flex-col font-sans overflow-hidden text-white",style:{"--tile-size":`${Z}px`},children:[e.jsx("div",{className:"flex-none p-4 flex flex-col md:flex-row md:items-end justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-black tracking-tighter italic uppercase drop-shadow-lg",children:e.jsxs("span",{className:"text-blue-500",children:["Para",e.jsx("span",{className:"text-white",children:"b"}),"ox"]})}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[N?e.jsx(e.Fragment,{children:e.jsx("span",{className:"bg-slate-800/80 px-2.5 py-1 rounded-lg text-[10px] text-slate-300 border border-slate-700 font-bold uppercase tracking-widest shadow-lg",children:"Co-op Mode"})}):e.jsx("span",{className:"bg-blue-600/80 px-2.5 py-1 rounded-lg text-[10px] text-white border border-blue-500 font-bold uppercase tracking-widest shadow-lg",children:"Spectator Mode"}),e.jsx("button",{onClick:()=>M("dom"===E?"canvas":"dom"),className:"bg-purple-600/80 hover:bg-purple-500 px-2.5 py-1 rounded-lg text-[10px] text-white border border-purple-500 font-bold uppercase tracking-widest shadow-lg transition-colors",children:"dom"===E?"Switch to Canvas":"Switch to DOM"})]})]})}),e.jsxs("div",{className:"flex-1 relative flex items-center justify-center overflow-hidden",children:[N&&e.jsxs("div",{className:"absolute top-4 right-4 z-50 flex items-center gap-1 p-1 rounded-xl border backdrop-blur-md shadow-2xl transition-all duration-500 "+(0===W?"bg-slate-900/60 border-white/5 text-slate-400":"bg-blue-600/20 border-blue-500/40 text-blue-300 shadow-[0_0_20px_rgba(59,130,246,0.1)]"),children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a,{size:16,className:W>0?"text-blue-300 animate-pulse":"text-slate-400"}),W>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-400 rounded-full animate-ping"})]}),e.jsx("span",{className:"text-xs font-black tabular-nums "+(W>0?"text-blue-300":"text-slate-400"),children:W})]}),e.jsxs("div",{className:"flex gap-0.5 border-l border-white/5 pl-1",children:[e.jsx("button",{onClick:()=>_("out"),disabled:F===(N.levelStack[0]?.levelId||"root")&&0===W,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/5 active:scale-90 transition-all text-slate-400 disabled:opacity-10 disabled:pointer-events-none",title:"Zoom Out",children:e.jsx(o,{size:16})}),e.jsx("button",{onClick:()=>_("in"),disabled:F===D&&W===U,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/5 active:scale-90 transition-all text-blue-400 disabled:opacity-10 disabled:pointer-events-none",title:"Zoom In",children:e.jsx(c,{size:16})})]})]}),"dom"===E?e.jsx(l,{mode:"popLayout",initial:!1,children:e.jsx(r.div,{initial:"enter"===G?{opacity:0,scale:.5}:"exit"===G?{opacity:0,scale:1.5}:{opacity:0,scale:1},animate:{opacity:1,scale:1},exit:"enter"===G?{opacity:0,scale:1.5}:{opacity:0,scale:.5},transition:{duration:.45,ease:[.15,0,0,1]},style:{willChange:"transform, opacity"},children:e.jsx(S,{levelId:F,state:w,currentUserId:j,depth:0,blockedInfo:R})},`${F}-${W}`)}):e.jsx(k,{state:w,displayedLevelId:F,currentUserId:j,tileSize:Z,width:I.width,height:.7*I.height})]}),e.jsxs("div",{className:"p-4 flex flex-col items-center justify-center gap-6",children:[N&&e.jsx("div",{className:"flex flex-col items-start",children:e.jsxs("div",{className:"grid grid-cols-3 gap-1 p-2 bg-slate-900/40 rounded-2xl border border-white/5 backdrop-blur-sm shadow-2xl origin-bottom-left",children:[e.jsx("div",{}),e.jsx("button",{onClick:()=>q("up"),className:"w-12 h-12 bg-slate-800/90 rounded-xl flex items-center justify-center border border-slate-700 active:bg-blue-600 active:scale-90 transition-all shadow-lg text-slate-300",children:e.jsx(h,{size:24})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>q("left"),className:"w-12 h-12 bg-slate-800/90 rounded-xl flex items-center justify-center border border-slate-700 active:bg-blue-600 active:scale-90 transition-all shadow-lg text-slate-300",children:e.jsx(u,{size:24})}),e.jsx("button",{onClick:()=>q("down"),className:"w-12 h-12 bg-slate-800/90 rounded-xl flex items-center justify-center border border-slate-700 active:bg-blue-600 active:scale-90 transition-all shadow-lg text-slate-300",children:e.jsx(x,{size:24})}),e.jsx("button",{onClick:()=>q("right"),className:"w-12 h-12 bg-slate-800/90 rounded-xl flex items-center justify-center border border-slate-700 active:bg-blue-600 active:scale-90 transition-all shadow-lg text-slate-300",children:e.jsx(b,{size:24})})]})}),g.isHost&&e.jsx("button",{onClick:async()=>{await p(O({en:"Current progress will be lost",vi:"Tiến trình hiện tại sẽ mất"}),O({en:"Reset game?",vi:"Reset game?"}))&&g.makeAction({type:"RESET",playerId:j})},className:"group relative px-5 py-2.5 bg-red-600 hover:bg-red-500 text-white rounded-xl border-b-4 border-red-800 active:border-b-0 active:translate-y-1 transition-all",children:e.jsx("span",{className:"text-xs font-black tracking-widest uppercase",children:"Reset"})})]}),P&&n.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/80 glass-blur z-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full shadow-2xl relative",children:[e.jsxs("div",{className:"flex justify-between p-4 pr-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-6 h-6 text-yellow-500"}),A({en:"Game Rules: Parabox",vi:"Luật Chơi: Parabox"})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:e.jsx(f,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 space-y-4 text-slate-300 leading-relaxed max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4 text-slate-300 leading-relaxed",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:A({en:"Objective",vi:"Mục tiêu"})}),e.jsx("p",{children:A({en:"Push all boxes into the blue goal squares to win.",vi:"Đẩy tất cả các khối vào các ô mục tiêu màu xanh để giành chiến thắng."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:A({en:"Recursive World",vi:"Thế Giới Đệ Quy"})}),e.jsx("p",{children:A({en:"Boxes are not just obstacles—they are worlds! Pushing a box into another box enters it.",vi:"Các khối không chỉ là vật cản—chúng là cả một thế giới! Đẩy một khối vào khối khác để đi vào trong."})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:A({en:"Paradoxes",vi:"Nghịch Lý"})}),e.jsx("p",{children:A({en:"You can even push a level into itself to create infinite recursive loops. Paradoxes are highly encouraged!",vi:"Bạn thậm chí có thể đẩy một màn chơi vào chính nó để tạo ra các vòng lặp đệ quy vô tận. Sự nghịch lý luôn được khuyến khích!"})})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:A({en:"Controls",vi:"Điều Khiển"})}),e.jsxs("ul",{className:"list-disc pl-4",children:[e.jsx("li",{children:A({en:"WASD or Arrow keys to move.",vi:"Các phím WASD hoặc Mũi tên để di chuyển."})}),e.jsx("li",{children:A({en:"Zoom In/Out buttons to control the camera.",vi:"Nút Phóng to/Thu nhỏ để điều khiển camera."})})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:A({en:"Co-op",vi:"Phối hợp"})}),e.jsxs("ul",{className:"list-disc pl-4",children:[e.jsx("li",{children:A({en:"The more players, the more fun.",vi:"Càng nhiều người chơi, game càng vui."})}),e.jsx("li",{children:A({en:"Players can push boxes together.",vi:"Người chơi có thể đẩy các khối cùng nhau."})})]})]})]})})]})}),document.body),e.jsx("button",{onClick:()=>L(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:O({en:"Rules",vi:"Luật chơi"}),children:e.jsx(m,{size:24})})]}):e.jsxs("div",{className:"w-full h-full bg-background-primary flex flex-col items-center justify-center font-sans text-white",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-bold tracking-widest uppercase opacity-50",children:"Syncing with Host..."})]})};export{R as default};
