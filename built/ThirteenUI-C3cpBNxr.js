import{j as e,a as s,u as t,b as a,e as n,S as l}from"./index-7IhovJwh.js";import{b as i,c as r,ab as d,aT as c,aJ as o,X as m,am as x,aM as h,aU as u,aV as p,a4 as g,H as f,aS as j,aI as b,U as v,ao as N,aW as w}from"./react-vendor-h4rhVvwn.js";import"./BaseGame-e-s6XEt7.js";import{C as y,S as k,b as C,d as T}from"./types-CraghUB2.js";import{u as P}from"./useGameState-CXSwuk32.js";import{u as S}from"./usePrevious-B5bsbsG7.js";import"./socket-DRbsQkF5.js";import"./zustand-Bv_X5X6D.js";const I={[k.SPADE]:e.jsx(f,{className:"@md:w-4 @md:h-4 w-3 h-3",fill:"black"}),[k.CLUB]:e.jsx(g,{className:"@md:w-4 @md:h-4 w-3 h-3",fill:"black"}),[k.DIAMOND]:e.jsx(p,{className:"@md:w-4 @md:h-4 w-3 h-3",fill:"red"}),[k.HEART]:e.jsx(u,{className:"@md:w-4 @md:h-4 w-3 h-3",fill:"red"})};function R({game:b}){const v=b,[N]=P(v),[w,k]=i.useState([]),[C,T]=i.useState([]),[I,R]=i.useState(!1),[G,H]=i.useState(!1),[M,q]=i.useState("random"),D=i.useRef(null),{username:F}=s(),{ti:E,ts:L}=t(),{confirm:O}=a(),{currentRoom:U}=n(),J=v.canStartGame(),V=v.isHost,z=v.getMyPlayerIndex(),K=z>=0?N.players[z]:null,_=N.currentTurnIndex===z;S(N.currentTurnIndex,(e,s)=>{"playing"===N.gamePhase&&null!==e&&l.playTurnSwitch(_)});const Y=i.useMemo(()=>U?.players.some(e=>e.id===v.getUserId())??!1,[U,v]),X=i.useMemo(()=>{if(0===w.length||!K)return null;const e=w.map(e=>K.hand[e]);return v.validateSelectedCards(e)},[w,K,v]);i.useEffect(()=>v.onUpdate(e=>{k([]),T([]),q(v.getHandPattern())}),[v]);const Q=i.useMemo(()=>{const e=[],s=z>=0?z:0;for(let t=0;t<4;t++){const a=(s+t)%4;e.push({slot:N.players[a],actualIndex:a})}return e},[N.players,z]),W=["ü•á","ü•à","ü•â"],Z=(s,t=!1)=>{const a=Q[s],n=z>=0,l=a.slot.id?N.rankings.indexOf(a.slot.id):-1,i=l>=0?W[l]||`#${l+1}`:null;return e.jsx(B,{slot:a.slot,index:a.actualIndex,isCurrentTurn:N.currentTurnIndex===a.actualIndex,isHost:V,gamePhase:N.gamePhase,onAddBot:()=>v.requestAddBot(a.actualIndex),onJoinSlot:()=>v.requestJoinSlot(a.actualIndex,F),onRemove:()=>v.requestRemovePlayer(a.actualIndex),compact:t,isInGame:n,rankBadge:i,canJoin:!V&&"waiting"===N.gamePhase&&!n&&Y},a.actualIndex)};return e.jsxs("div",{className:"flex flex-col h-full p-2 @md:p-4 gap-4 @md:gap-6 overflow-hidden pb-16!",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 @md:gap-4",children:[Z(1,!0),Z(2,!0),Z(3,!0)]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[160px] @md:min-h-[220px] bg-slate-800/30 rounded-2xl p-4 @md:p-8",children:["waiting"===N.gamePhase&&e.jsxs("div",{className:"flex flex-col items-center gap-2 @md:gap-4",children:[e.jsx("span",{className:"text-slate-400 text-sm @md:text-base",children:L({en:"Waiting for players...",vi:"ƒêang ch·ªù ng∆∞·ªùi ch∆°i..."})}),V&&J&&e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[N.players.filter(e=>null!==e.id&&e.id!==v.getUserId()).every(e=>e.isBot)&&e.jsxs("div",{className:"flex flex-col items-center gap-2 bg-slate-800 rounded-2xl p-2",children:[e.jsxs("span",{className:"text-slate-400 text-sm text-center",children:[L({en:"Choose cards to play (Testing only with bots)",vi:"Ch·ªçn b√†i mu·ªën ch∆°i (Ch·ªâ c√≥ khi ch∆°i v·ªõi bot)"}),":"]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-2",children:[{id:"random",vi:"Ng·∫´u nhi√™n",en:"Random"},{id:y.PAIR,vi:"ƒê√¥i",en:"Pair"},{id:y.TRIPLE,vi:"Ba (S√°m)",en:"Triple"},{id:y.STRAIGHT,vi:"S·∫£nh",en:"Straight"},{id:y.FOUR_OF_KIND,vi:"T·ª© qu√Ω",en:"Quad"},{id:y.THREE_CONSECUTIVE_PAIRS,vi:"3 ƒê√¥i th√¥ng",en:"3 Pairs"},{id:y.FOUR_CONSECUTIVE_PAIRS,vi:"4 ƒê√¥i th√¥ng",en:"4 Pairs"}].map(s=>e.jsx("button",{onClick:()=>{v.setHandPattern(s.id),q(s.id)},className:"px-3 py-1 text-xs rounded-full border transition-all "+(M===s.id?"bg-primary-600 border-primary-500 text-white":"bg-slate-700 border-slate-600 text-slate-300 hover:bg-slate-600"),children:L(s)},s.id))})]}),e.jsxs("button",{onClick:()=>v.requestStartGame(),className:"px-6 py-2 @md:px-8 @md:py-3 bg-slate-600 hover:bg-slate-500 rounded-lg @md:rounded-xl font-medium @md:font-bold flex items-center gap-2",children:[e.jsx(d,{className:"w-4 h-4 @md:w-5 @md:h-5"}),L({en:"Start Game",vi:"B·∫Øt ƒë·∫ßu"})]})]}),V&&!J&&e.jsx("span",{className:"text-xs @md:text-sm text-slate-500",children:L({en:"Need at least 2 players",vi:"C·∫ßn √≠t nh·∫•t 2 ng∆∞·ªùi ch∆°i"})})]}),("playing"===N.gamePhase||"ended"===N.gamePhase)&&e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative min-h-[60px] @md:min-h-[80px] flex items-center justify-center",children:0===N.currentTrick.length?e.jsx("span",{className:"text-slate-500 text-sm @md:text-base",children:"New Round"}):e.jsx("div",{className:"grid items-center justify-items-center",onClick:()=>R(!I),children:N.currentTrick.map((s,t)=>{const a=s.cards.length>1,n=N.currentTrick.length,l=I?40:20,i=l*t+-l*(n-1)/2,r=4*t;return e.jsx("div",{style:{gridArea:"1 / 1",transform:`translateX(${i}px) translateY(${r}px)`},className:`\n                      flex rounded-lg transition-all duration-300 ease-out\n                      ${a?"bg-slate-700/30 ring-1 ring-slate-600":""}\n                    `,children:s.cards.map((s,t)=>e.jsx($,{index:t,card:s,delay:50*t},t))},t)})})}),"playing"===N.gamePhase&&e.jsx("div",{className:"text-xs @md:text-sm border-t border-slate-700 mt-4 @md:mt-6 pt-2",children:_?e.jsx("span",{className:"text-primary-400 font-medium",children:L({en:"Your Turn",vi:"L∆∞·ª£t c·ªßa b·∫°n"})}):e.jsxs("span",{className:"text-slate-400",children:[L({en:"Turn of",vi:"L∆∞·ª£t c·ªßa"})," ",N.players[N.currentTurnIndex]?.username]})})]})}),"ended"===N.gamePhase&&e.jsxs("div",{className:"flex flex-col items-center gap-2 @md:gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-6 h-6 @md:w-8 @md:h-8 text-yellow-400"}),e.jsx("span",{className:"text-base @md:text-xl font-bold text-yellow-400",children:L({en:"Game Over",vi:"K·∫øt th√∫c"})})]}),e.jsx("div",{className:"flex flex-col gap-2 @md:gap-3 w-full max-w-[250px]",children:N.rankings.map((s,t)=>{const a=N.players.find(e=>e.id===s);if(!a)return null;const n=W[t]||`#${t+1}`;return e.jsxs("div",{className:"flex items-center gap-2 text-sm @md:text-base "+(0===t?"text-yellow-400 font-bold":"text-slate-300"),children:[e.jsx("span",{className:"text-lg",children:n}),e.jsx("span",{children:a.username})]},s)})})]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-3 @md:gap-6 mt-auto",children:[Z(0,!0),K&&"playing"===N.gamePhase&&K.hand.length>0&&e.jsx("div",{className:"w-full relative mt-4",children:e.jsx("div",{ref:D,className:"flex justify-center h-28 @md:h-36 relative",children:K.hand.map((s,t)=>{const a=K.hand.length,n=30*a+80,l=.9*(D.current?.offsetWidth||400),i=Math.min(1,l/n),r=Math.max(15,Math.min(40,l/a)),d=t-(a-1)/2,c=1*d,o=d*r;return e.jsx(A,{card:s,selected:w.includes(t),highlighted:C.includes(t),onClick:()=>(e=>{if("playing"!==N.gamePhase||!K)return;if(C.includes(e)&&!w.includes(e))return k(e=>{const s=new Set([...e,...C]);return Array.from(s)}),void T([]);let s;if(w.includes(e)?(s=w.filter(s=>s!==e),T([])):s=[...w,e],k(s),s.length>0&&s.includes(e)){const e=s.map(e=>K.hand[e]),t=v.getSuggestion(K.hand,e);if(t.length>0){const e=t.map(e=>K.hand.indexOf(e)).filter(e=>!s.includes(e));T(e)}else T([])}})(t),index:t,rotation:c,translateX:o,scale:i},s)})})}),"playing"===N.gamePhase&&_&&e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[X?.valid&&e.jsxs("span",{className:"text-green-400 text-xs @md:text-sm font-medium",children:["‚úì ",E({en:"Valid play",vi:"B√†i h·ª£p l·ªá"})]}),!1===X?.valid&&e.jsxs("span",{className:"text-red-400 text-xs @md:text-sm font-medium",children:["‚ö†Ô∏è ",E(X.error)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>{if(0===w.length||!K)return;const e=w.map(e=>K.hand[e]).sort((e,s)=>e-s);v.requestPlayCards(e),k([]),T([])},disabled:0===w.length||!X?.valid,className:"px-4 py-1.5 @md:px-6 @md:py-2 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-900 disabled:cursor-not-allowed rounded-lg font-medium flex items-center gap-1 @md:gap-2 text-sm",children:[e.jsx(d,{className:"w-4 h-4"}),L({en:"Play",vi:"ƒê√°nh"})]}),N.lastCombination&&e.jsxs("button",{onClick:async()=>{await a.getState().confirm(L({en:"You will not be able to play cards until the next round.",vi:"B·∫°n s·∫Ω kh√¥ng th·ªÉ ch∆°i b√†i cho ƒë·∫øn v√≤ng sau."}),L({en:"Pass this round?",vi:"B·ªè l∆∞·ª£t n√†y?"}))&&v.requestPass()},className:"px-4 py-1.5 @md:px-6 @md:py-2 bg-red-700 hover:bg-red-600 rounded-lg font-medium flex items-center gap-1 @md:gap-2 text-sm",children:[e.jsx(c,{className:"w-4 h-4"}),L({en:"Pass",vi:"B·ªè l∆∞·ª£t"})]})]})]}),"waiting"!==N.gamePhase&&e.jsx("div",{className:"flex gap-2",children:K&&e.jsxs("button",{onClick:async()=>{if(V&&"playing"===N.gamePhase){await O(L({en:"This will reset the current game and start fresh.",vi:"Vi·ªác n√†y s·∫Ω xo√° game hi·ªán t·∫°i v√† b·∫Øt ƒë·∫ßu l·∫°i."}),L({en:"Start New Game?",vi:"Ch∆°i l·∫°i?"}))&&v.requestNewGame()}else v.requestNewGame()},className:"px-3 py-1.5 @md:px-4 @md:py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-xs @md:text-sm flex items-center gap-1 @md:gap-2",children:[e.jsx(o,{className:"w-3 h-3 @md:w-4 @md:h-4"}),L({en:"New game",vi:"Ch∆°i l·∫°i"})]})})]}),V&&N.newGameRequest&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 @md:p-6 max-w-sm w-full shadow-xl",children:[e.jsx("h3",{className:"text-base @md:text-lg font-bold mb-3 @md:mb-4",children:L({en:"New Game Request",vi:"Y√™u c·∫ßu ch∆°i l·∫°i"})}),e.jsxs("p",{className:"text-slate-300 mb-4 @md:mb-6 text-sm @md:text-base",children:[e.jsx("span",{className:"font-medium text-white",children:N.newGameRequest.fromName})," ",L({en:"wants to start a new game.",vi:"mu·ªën ch∆°i l·∫°i game."})]}),e.jsxs("div",{className:"flex gap-2 @md:gap-3",children:[e.jsxs("button",{onClick:()=>v.declineNewGame(),className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(m,{className:"w-4 h-4"}),L({en:"Decline",vi:"T·ª´ ch·ªëi"})]}),e.jsxs("button",{onClick:()=>v.acceptNewGame(),className:"flex-1 py-2 bg-green-600 hover:bg-green-500 rounded-lg font-medium flex items-center justify-center gap-2 text-sm",children:[e.jsx(x,{className:"w-4 h-4"}),L({en:"Accept",vi:"Ch·∫•p nh·∫≠n"})]})]})]})}),e.jsx("button",{onClick:()=>H(!0),className:"fixed bottom-4 right-4 p-3 bg-slate-700 hover:bg-slate-600 rounded-full text-yellow-500 transition-colors z-40 shadow-lg border border-slate-500",title:L({en:"Rules",vi:"Lu·∫≠t ch∆°i"}),children:e.jsx(h,{size:24})}),G&&r.createPortal(e.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80 p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-lg w-full shadow-2xl relative",children:[e.jsxs("div",{className:"flex justify-between p-4 pr-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(h,{className:"w-6 h-6 text-yellow-500"}),E({en:"Game Rules: Thirteen",vi:"Lu·∫≠t Ch∆°i: Ti·∫øn L√™n Mi·ªÅn Nam"})]}),e.jsx("button",{onClick:()=>H(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:e.jsx(m,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 pt-0 space-y-4 text-slate-300 leading-relaxed max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{children:E({en:"Thirteen (Tien Len) is a popular climbing card game using a standard 52-card deck. The goal is to be the first to empty your hand.",vi:"Ti·∫øn L√™n Mi·ªÅn Nam l√† tr√≤ ch∆°i b√†i ph·ªï bi·∫øn s·ª≠ d·ª•ng b·ªô b√†i 52 l√°. M·ª•c ti√™u l√† ng∆∞·ªùi ƒë·∫ßu ti√™n ƒë√°nh h·∫øt b√†i."})}),e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:E({en:"Card Ranking",vi:"Th·ª© t·ª± b√†i"})}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:E({en:"Ranks (Low to High): 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A, 2.",vi:"Gi√° tr·ªã (Th·∫•p ƒë·∫øn Cao): 3, 4, 5, 6, 7, 8, 9, 10, J, Q, K, A, 2."})}),e.jsxs("li",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("span",{children:E({en:"Suits (Low to High):",vi:"Ch·∫•t (Th·∫•p ƒë·∫øn Cao):"})}),e.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[e.jsx(f,{size:14,className:"text-slate-400",fill:"currentColor"}),L({en:"Spades",vi:"B√≠ch"}),e.jsx("span",{className:"text-xs text-slate-500",children:"<"}),e.jsx(g,{size:14,className:"text-slate-400",fill:"currentColor"}),L({en:"Clubs",vi:"Chu·ªìn"}),e.jsx("span",{className:"text-xs text-slate-500",children:"<"}),e.jsx(p,{size:14,className:"text-red-500",fill:"currentColor"}),L({en:"Diamonds",vi:"R√¥"}),e.jsx("span",{className:"text-xs text-slate-500",children:"<"}),e.jsx(u,{size:14,className:"text-red-500",fill:"currentColor"}),L({en:"Hearts",vi:"C∆°"})]})]})]}),e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:E({en:"Combinations",vi:"K·∫øt h·ª£p b√†i"})}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-blue-400",children:E({en:"Single",vi:"C√≥c"})}),": ",E({en:"A single card.",vi:"M·ªôt l√° b√†i l·∫ª."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-emerald-400",children:E({en:"Pair",vi:"ƒê√¥i"})}),":"," ",E({en:"Two cards of the same rank.",vi:"2 l√° c√πng gi√° tr·ªã."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-purple-400",children:E({en:"Triple",vi:"3 (S√°m c√¥)"})}),":"," ",E({en:"Three cards of the same rank.",vi:"3 l√° c√πng gi√° tr·ªã."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-orange-400",children:E({en:"Straight",vi:"S·∫£nh"})}),":"," ",E({en:"3+ consecutive rank cards (e.g., 3-4-5). 2 cannot be in a straight.",vi:"3+ l√° li√™n ti·∫øp (VD: 3-4-5). 2 kh√¥ng ƒë∆∞·ª£c n·∫±m trong s·∫£nh."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-red-400",children:E({en:"Four of a Kind",vi:"T·ª© qu√Ω"})}),":"," ",E({en:"Four cards of the same rank.",vi:"4 l√° c√πng gi√° tr·ªã."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-pink-400",children:E({en:"Three consecutive pairs",vi:"3 ƒë√¥i th√¥ng"})}),":"," ",E({en:"Three consecutive pairs of cards.",vi:"3 ƒë√¥i li√™n ti·∫øp."})]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-pink-400",children:E({en:"Four consecutive pairs",vi:"4 ƒë√¥i th√¥ng"})}),":"," ",E({en:"Four consecutive pairs of cards.",vi:"4 ƒë√¥i li√™n ti·∫øp."})]})]}),e.jsx("h3",{className:"text-lg font-bold text-yellow-400 mt-4",children:E({en:"Gameplay",vi:"Lu·∫≠t ch∆°i"})}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:E({en:"First round starts with 3 spades. Next round winner play first.",vi:"V√°n ƒë·∫ßu 3 b√≠ch ƒëi tr∆∞·ªõc. V√°n sau ai th·∫Øng ƒëi tr∆∞·ªõc."})}),e.jsx("li",{children:E({en:"Play a combination that is higher (better rank/suit) than the previous one to beat it.",vi:"ƒê√°nh b·ªô b√†i cao h∆°n (v·ªÅ gi√° tr·ªã/ch·∫•t) ƒë·ªÉ ch·∫∑n b√†i tr∆∞·ªõc ƒë√≥."})}),e.jsx("li",{children:E({en:"If everyone passes, the last player to play starts a new round with any combination.",vi:"N·∫øu t·∫•t c·∫£ b·ªè l∆∞·ª£t, ng∆∞·ªùi ƒë√°nh cu·ªëi c√πng s·∫Ω ƒë∆∞·ª£c ƒëi ti·∫øp v·ªõi b·∫•t k·ª≥ b·ªô n√†o."})}),e.jsxs("li",{className:"list-none mt-2",children:[e.jsx("span",{className:"font-bold text-yellow-400",children:L({en:"Special (Chopping):",vi:"ƒê·∫∑c bi·ªát (Ch·∫∑t):"})}),e.jsxs("ul",{className:"list-disc pl-5 mt-1 space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-red-400 font-semibold",children:L({en:"Four of a Kind",vi:"T·ª© qu√Ω"})}),e.jsx("span",{children:L({en:" cuts single 2 or a pair of 2s.",vi:" ch·∫∑t 1 heo ho·∫∑c ƒë√¥i heo."})})]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-pink-400 font-semibold",children:L({en:"Three consecutive pairs",vi:"3 ƒë√¥i th√¥ng"})}),e.jsx("span",{children:L({en:" cuts a single 2.",vi:" ch·∫∑t 1 heo."})})]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-pink-400 font-semibold",children:L({en:"Four consecutive pairs",vi:"4 ƒë√¥i th√¥ng"})}),e.jsx("span",{children:L({en:" cuts single 2, pair of 2s, or Four of a Kind.",vi:" ch·∫∑t 1 heo, ƒë√¥i heo, ho·∫∑c t·ª© qu√Ω."})})]})]})]})]})]})})]})}),document.body)]})}function A({card:s,selected:t,highlighted:a,onClick:n,disabled:l=!1,rotation:i=0,translateX:r=0,scale:d=1}){const{rank:c,suit:o}=T(s),m=o===k.HEART||o===k.DIAMOND?"text-red-500":"text-slate-800";return e.jsx("button",{onClick:n,disabled:l,style:{transform:`translateX(${r}px) rotate(${i}deg) translateY(${t?-30:0}px) scale(${d})`},className:`\n        absolute\n        w-16 h-24 @md:w-20 @md:h-28\n        bg-white rounded-lg @md:rounded-xl shadow-lg\n        border-2 transition-all duration-300 font-bold shrink-0\n        select-none\n        ${t?"border-green-500 ring-2 ring-green-400 shadow-green-500/30 shadow-xl":a?"border-yellow-400 ring-2 ring-yellow-400/70 shadow-yellow-500/20 shadow-lg":"border-slate-200"}\n        ${!l&&n?(t||a?"":"hover:border-slate-400 hover:scale-105 hover:-translate-y-2")+" cursor-pointer":"cursor-default"}\n      `,children:e.jsxs("div",{className:`absolute top-1 left-1 @md:top-1.5 @md:left-2 flex flex-col items-center leading-none ${m}`,children:[e.jsx("span",{className:"text-xl font-bold",children:C[c]}),e.jsx("span",{className:"text-lg",children:I[o]})]})})}function $({card:s,delay:t=0,index:a=0}){const{rank:n,suit:l}=T(s),i=l===k.HEART||l===k.DIAMOND?"text-red-500":"text-slate-800",r=0===a?"ml-0":"-ml-6 @md:-ml-9";return e.jsx("div",{style:{animationDelay:`${t}ms`},className:`\n        ${r}\n        select-none\n        w-12 h-18 @md:w-16 @md:h-24\n        bg-white rounded-lg @md:rounded-xl shadow-lg\n        border-2 border-slate-200 font-bold shrink-0 relative\n        animate-[cardPlay_0.3s_ease-out_forwards]\n      `,children:e.jsxs("div",{className:`absolute top-1 left-1.5 @md:top-1.5 @md:left-2 flex flex-col items-center leading-none ${i}`,children:[e.jsx("span",{className:"text-sm @md:text-xl font-bold",children:C[n]}),e.jsx("span",{className:"text-xs @md:text-base",children:I[l]})]})})}function B({slot:s,index:a,isCurrentTurn:n,isHost:l,gamePhase:i,onAddBot:r,onJoinSlot:d,onRemove:c,compact:o=!1,canJoin:x=!1,rankBadge:h=null}){const{ts:u}=t(),p=null===s.id,g=l&&"waiting"===i;return e.jsx("div",{className:`\n        ${o?"p-2 min-w-[90px]":"p-2 @md:p-3 min-w-[100px] @md:min-w-[120px]"}\n        rounded-lg @md:rounded-xl transition-all border-2\n        ${!s.passed&&0!==s.hand.length||"playing"!==i?n&&"playing"===i?"border-primary-600 bg-primary-500/10 animate-bounce":"border-slate-700 bg-slate-800/50":"border-slate-600 bg-slate-900/70 opacity-50"}\n        ${p?"border-dashed":""}\n      `,children:p?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("span",{className:"text-slate-500 text-xs text-center",children:["Slot ",a+1]}),e.jsxs("div",{className:"flex gap-1",children:[g&&e.jsxs("button",{onClick:r,className:"flex-1 p-1 bg-slate-700 hover:bg-slate-600 rounded text-xs flex items-center justify-center",title:"Add Bot",children:[e.jsx(b,{className:"w-5 h-5"})," ",u({en:"Add Bot",vi:"Th√™m Bot"})]}),x&&e.jsxs("button",{onClick:d,className:"flex-1 p-1.5 bg-slate-700 hover:bg-slate-600 rounded text-xs flex items-center justify-center gap-1",title:"Join this slot",children:[e.jsx(v,{className:"w-4 h-4"}),u({en:"Join",vi:"Tham gia"})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[s.isBot?e.jsx(b,{className:"w-5 h-5 text-blue-400"}):s.isHost?e.jsx(N,{className:"w-5 h-5 text-yellow-400"}):e.jsx(v,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-xs font-medium",children:s.username}),s.isBot&&s.persona&&e.jsxs("div",{className:`\n                  flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider\n                  ${"aggressive"===s.persona?"bg-red-500/20 text-red-400 border border-red-500/30":"cautious"===s.persona?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-300 border border-slate-500/30"}\n                `,title:u({en:`Persona: ${s.persona}`,vi:`T√≠nh c√°ch: ${s.persona}`}),children:[e.jsx(w,{className:"w-2.5 h-2.5"}),u({en:"aggressive"===s.persona?"Aggro":"cautious"===s.persona?"Safe":"Basic",vi:"aggressive"===s.persona?"HƒÉng":"cautious"===s.persona?"K·ªπ":"V·ª´a"})]}),h&&e.jsx("span",{className:"text-sm",title:`Rank: ${h}`,children:h}),l&&!s.isHost&&"waiting"===i&&e.jsx("button",{onClick:c,className:"p-0.5 hover:bg-slate-700 rounded",title:"Remove",children:e.jsx(m,{className:"w-5 h-5 text-red-400"})})]}),"ended"===i&&s.hand.length>0?e.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 max-w-[140px] @md:max-w-[200px]",children:s.hand.map((s,t)=>{const{rank:a,suit:n}=T(s),l=n===k.HEART||n===k.DIAMOND?"text-red-500":"text-slate-800";return e.jsx("div",{className:`\n                      w-6 h-10 @md:w-8\n                      bg-white rounded\n                      relative shrink-0\n                      ${l}\n                    `,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm @md:text-md font-bold",children:C[a]}),e.jsx("span",{className:"text-sm @md:text-md -mt-0.5",children:I[n]})]})},t)})}):("playing"===i||"ended"===i)&&e.jsx("span",{className:"text-xs text-slate-400",children:s.hand.length>0?`${s.hand.length} ${u({en:"cards",vi:"l√°"})}`:u({en:"Finished",vi:"H·∫øt b√†i"})}),s.passed&&s.hand.length>0&&e.jsx("span",{className:"text-xs text-yellow-400",children:u({en:"Passed",vi:"B·ªè l∆∞·ª£t"})})]})})}export{I as SUIT_SYMBOLS,R as default};
